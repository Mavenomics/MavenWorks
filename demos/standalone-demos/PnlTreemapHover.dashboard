{
	"layout": {
		"properties": {
			"flexSize": 1
		},
		"typeName": 0,
		"uuid": "dbcd3ed3-0654-44c0-b9ab-70ad017d6670",
		"attachedProperties": [
			{
				"Fixed Size (px)": 96,
				"Stretch": null
			},
			{
				"Fixed Size (px)": null,
				"Stretch": 1,
				"Expanded": null
			}
		],
		"children": [
			{
				"properties": {
					"fixedSize.px": 96,
					"borderWidth.px": 0,
					"showTitle": false,
					"caption": "MavenTitlePart"
				},
				"typeName": 1,
				"uuid": "736f3e96-ca6e-4b4d-b38d-53fdacb82b7a",
				"guid": "34dd2f59-c591-4cb9-9204-1d728197ddde"
			},
			{
				"properties": {
					"flexSize": 1.0204081632653061,
					"borderWidth.px": 0,
					"showTitle": false,
					"caption": "PnlTreeMapPart"
				},
				"typeName": 1,
				"uuid": "0546eb93-2833-4443-b255-f83260ad4920",
				"guid": "8577f47d-c3d7-4250-9f47-dee2e1541cf2"
			}
		]
	},
	"parts": {
		"34dd2f59-c591-4cb9-9204-1d728197ddde": {
			"application/vnd.maven.part+json": {
				"name": "MavenTitlePart",
				"id": "34dd2f59-c591-4cb9-9204-1d728197ddde",
				"options": {
					"Name": {
						"type": "Global",
						"expr": "symbol"
					}
				}
			},
			"text/plain": "VisualEditorPart"
		},
		"8577f47d-c3d7-4250-9f47-dee2e1541cf2": {
			"application/vnd.maven.part+json": {
				"name": "PnlTreeMapPart",
				"id": "8577f47d-c3d7-4250-9f47-dee2e1541cf2",
				"options": {
					"Input Table": {
						"type": "JavaScript",
						"expr": "/* @symbol */\n\nlet histories = await mql`\nSELECT\n    First(symbol) as symbol,\n    Sparkline(price_adjclose, trade_date) as history\nFROM WorkerCache('position_historicalData', CsvToTable(Fetch('https://dl.dropboxusercontent.com/s/5xlr22jszzgb5zb/historicalData.csv')))\nGROUP BY symbol\nHAVING GetLevel() != 0\n`;\n\nlet securitiesTable = await mql`SET @ds = Subselect(<<MQL\n     SELECT \n        *\n     FROM ChangeRowName(\n      InnerNaturalJoin(\n        'symbol', \n        InnerNaturalJoin('symbol', CsvToTable(Fetch('https://dl.dropboxusercontent.com/s/hyw2xiszh2p258w/SecurityWithFlags.csv')), @histories),\n        RenameColumn(CsvToTable(Fetch('https://dl.dropboxusercontent.com/s/fweovng9csl7mng/latestprice.csv')), 'price_adjclose', 'latestprice')), \n      symbol)\nMQL\n, '@histories', ${histories})\nSELECT\n    *\nFROM WorkerCache('securitiesWithHistoriesDataSource', @ds)`;\n\nlet getHistory = async (row, symbol) => {\n    let historyTable = await mql`SELECT history FROM ${histories} WHERE symbol = ${symbol}`;\n    if (historyTable.length != 1 || historyTable.columnNames.length != 1)\n        throw new Error(`History for ${symbol} not found`);\n    return historyTable.rows[0].getValue(0);\n}\n\nreturn await mql`set @Interval = 1\nset @SliderStartDate = 20130520\nset @SliderEndDate = 20191009\nset @StartDate = ParseDateExact( FormatString( '{0}', @SliderStartDate ), 'YYYYMMDD' )\nset @EndDate = ParseDateExact( FormatString( '{0}', @SliderEndDate ), 'YYYYMMDD' )\nset @MessageType = 'RadioButtonChanged'\nset @TreemapSizing = 'Market Cap Weighted'\nset @selectedFloatVector = cache( 'floatvec', SparklineToFloatVector( SparklineBetweenDates( ${getHistory}( ${globals.symbol} ), @StartDate, @EndDate ) ) )\nSELECT \n\tsum(ifelse( @TreemapSizing = 'Equal Weighted', 1, shares_outstanding * latestprice / 1000000000 )) as MktCap, \n\tifelse( count( 'children' ) = 0, VectorCorrelation( SparklineToFloatVector( SparklineBetweenDates( history, @StartDate, @EndDate ) ), @selectedFloatVector ), null ) as Correlation , \n\tdescription as Description, \n\tsector as Sector, \n\tindustry as Industry \nFROM \n\t${securitiesTable}\nWHERE \n\tlatestprice < 5000\nGROUP BY \n\tsector\n  WITH ROLLUP\nORDER BY \n\tGetName(  )`;",
						"globals": [
							"symbol"
						]
					}
				}
			},
			"text/plain": "VisualEditorPart"
		}
	},
	"metadata": {},
	"globals": [
		{
			"name": "symbol",
			"type": "String",
			"value": "MSFT"
		}
	],
	"localParts": {
		"MavenTitlePart": {
			"typeName": "Part",
			"id": "ccc6f3ed-bd0d-e0a3-abae-af29b47bf223",
			"name": "MavenTitlePart",
			"path": "/parts/MavenTitlePart.part",
			"lastModified": "2019-05-08T00:31:07.664Z",
			"data": {
				"htmlText": "<body bgcolor=\"white\" text=\"black\">\n    <center> \n        <table border=0> \n            <tr> \n                <td valign=bottom width=\"190\">\n                    <img id=\"image\" width=\"180\" height=\"70\" src=\"data:image/gif;base64,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\"/>\n                </td>\n                <td width=\"20\">\n                    <font size=\"6\" face=\"arial\"> | </font>\n                </td>\n                <td>\n                    <font size=3 face=arial> <b id='name'>untitled</b> </font>\n                </td>\n            </tr>\n        </table> \n    </center> \n</body>",
				"cssText": "",
				"jsText": "this.render = function (args) {\n    document.querySelector('#name').innerText = args[0];\n}\n\nthis.initialize = function () {\n    return Promise.resolve();\n}"
			},
			"functionType": "UserDefinedEvalPart",
			"arguments": [
				{
					"typeAnnotation": "String",
					"name": "Name",
					"metadata": null,
					"defaultValue": {
						"typeName": "String",
						"value": {
							"val": "untitled",
							"boxed": false
						}
					}
				}
			]
		},
		"PnlTreeMapPart": {
			"typeName": "Part",
			"id": "d797f234-88fd-4cb4-a6a5-d279548cab7d",
			"name": "PnlTreeMapPart",
			"path": "/parts/PnlTreeMapPart.part",
			"lastModified": "2019-05-08T00:31:07.664Z",
			"data": {
				"htmlText": "<!DOCTYPE html>\n<!--\nGeneric treemap, based on http://bost.ocks.org/mike/treemap/\n-->\n<html>\n<head>\n<meta charset=\"utf-8\">\n<script src=\"https://code.jquery.com/jquery-1.7.2.min.js\"></script>\n<script src=\"https://d3js.org/d3.v3.min.js\"></script>\n</head>\n<body>\n<div id=\"chart\"></div>\n</body>\n</html>",
				"jsText": "this.initialize = function() {\n    console.log(\"Part Initialized!\");\n};\n\n\nvar defaults = {\n    margin: {top: 24, right: 0, bottom: 0, left: 0},\n    format: \".2f\",\n    title: \"\",\n    width: 960,\n    height: 500\n};\n\nfunction main(o, data) {\n  var root,\n      opts = $.extend(true, {}, defaults, o),\n      formatNumber = d3.format(opts.format),\n      rname = opts.rootname,\n      margin = opts.margin,\n      theight = 36 + 16;\n  $('#chart').width(opts.width).height(opts.height);\n  var width = opts.width - margin.left - margin.right,\n      height = opts.height - margin.top - margin.bottom - theight,\n      transitioning;\n  \n  var color = d3.scale.category20c();\n  \n  var x = d3.scale.linear()\n      .domain([0, width])\n      .range([0, width]);\n  \n  var y = d3.scale.linear()\n      .domain([0, height])\n      .range([0, height]);\n  \n  var treemap = d3.layout.treemap()\n      .children(function(d, depth) { return depth ? null : d._children; })\n      .sort(function(a, b) { return a.value - b.value; })\n      .ratio(height / width * 0.5 * (1 + Math.sqrt(5)))\n      .round(false);\n  \n  var svg = d3.select(\"#chart\").append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.bottom + margin.top)\n      .style(\"margin-left\", -margin.left + \"px\")\n      .style(\"margin.right\", -margin.right + \"px\")\n    .append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n      .style(\"shape-rendering\", \"crispEdges\");\n  \n  var grandparent = svg.append(\"g\")\n      .attr(\"class\", \"grandparent\");\n  \n  grandparent.append(\"rect\")\n      .attr(\"y\", -margin.top)\n      .attr(\"width\", width)\n      .attr(\"height\", margin.top);\n  \n  grandparent.append(\"text\")\n      .attr(\"x\", 6)\n      .attr(\"y\", 6 - margin.top)\n      .attr(\"dy\", \".75em\");\n\n  if (opts.title) {\n    $(\"#chart\").prepend(\"<p class='title'>\" + opts.title + \"</p>\");\n  }\n  if (data instanceof Array) {\n    root = { key: rname, values: data };\n  } else {\n    root = data;\n  }\n    \n  initialize(root);\n  accumulate(root);\n  layout(root);\n  display(root);\n\n  if (window.parent !== window) {\n    var myheight = document.documentElement.scrollHeight || document.body.scrollHeight;\n    window.parent.postMessage({height: myheight}, '*');\n  }\n\n  function initialize(root) {\n    root.x = root.y = 0;\n    root.dx = width;\n    root.dy = height;\n    root.depth = 0;\n  }\n\n  // Aggregate the values for internal nodes. This is normally done by the\n  // treemap layout, but not here because of our custom implementation.\n  // We also take a snapshot of the original children (_children) to avoid\n  // the children being overwritten when when layout is computed.\n  function accumulate(d) {\n    return (d._children = d.values)\n        ? d.value = d.values.reduce(function(p, v) { return p + accumulate(v); }, 0)\n        : d.value;\n  }\n\n  // Compute the treemap layout recursively such that each group of siblings\n  // uses the same size (1×1) rather than the dimensions of the parent cell.\n  // This optimizes the layout for the current zoom state. Note that a wrapper\n  // object is created for the parent node for each group of siblings so that\n  // the parent’s dimensions are not discarded as we recurse. Since each group\n  // of sibling was laid out in 1×1, we must rescale to fit using absolute\n  // coordinates. This lets us use a viewport to zoom.\n  function layout(d) {\n    if (d._children) {\n      treemap.nodes({_children: d._children});\n      d._children.forEach(function(c) {\n        c.x = d.x + c.x * d.dx;\n        c.y = d.y + c.y * d.dy;\n        c.dx *= d.dx;\n        c.dy *= d.dy;\n        c.parent = d;\n        layout(c);\n      });\n    }\n  }\n\n  function display(d) {\n    grandparent\n        .datum(d.parent)\n        .on(\"click\", transition)\n      .select(\"text\")\n        .text(name(d));\n\n    var g1 = svg.insert(\"g\", \".grandparent\")\n        .datum(d)\n        .attr(\"class\", \"depth\");\n\n    var g = g1.selectAll(\"g\")\n        .data(d._children)\n      .enter().append(\"g\");\n\n    g.filter(function(d) { return d._children; })\n        .classed(\"children\", true)\n        .on(\"click\", transition);\n\n    var children = g.selectAll(\".child\")\n        .data(function(d) { return d._children || [d]; })\n      .enter().append(\"g\");\n\n    children.append(\"rect\")\n        .attr(\"class\", \"child\")\n        .call(rect)\n      .append(\"title\")\n        .text(function(d) { return d.key + \" (\" + formatNumber(d.value) + \")\"; });\n    children.append(\"text\")\n        .attr(\"class\", \"ctext\")\n        .text(function(d) { return d.key; })\n        .call(text2);\n\n    //This draws translucent rectangles over the group of children.\n    g.append(\"rect\")\n        .attr(\"class\", \"parent\")\n        .call(rect);\n\n    var t = g.append(\"text\")\n        .attr(\"class\", \"ptext\")\n        .attr(\"dy\", \".75em\")\n\n    t.append(\"tspan\")\n        .text(function(d) { return d.key; });\n    t.append(\"tspan\")\n        .attr(\"dy\", \"1.0em\")\n        .text(function(d) { return formatNumber(d.value); });\n    t.call(text);\n\n    heatMapColor = d3.scale.linear().domain([-1, 0, 1])\n      .range([d3.rgb(\"#FF0000\"), d3.rgb(\"#ffffff\"), d3.rgb('#00FF00')]);\n\n    g.selectAll(\"rect\")\n        .filter(\".child\")\n        .style(\"fill\", function(d) { return d.correlation ? heatMapColor(d.correlation) : color(d.key); });\n      \n    g.selectAll(\"rect\")\n        .filter(\".parent\")\n        .style(\"stroke\", function(d) { return \"#000\"; });\n      \n    \n\n    function transition(d) {\n      if (transitioning || !d) return;\n      transitioning = true;\n\n      var g2 = display(d),\n          t1 = g1.transition().duration(750),\n          t2 = g2.transition().duration(750);\n\n      // Update the domain only after entering new elements.\n      x.domain([d.x, d.x + d.dx]);\n      y.domain([d.y, d.y + d.dy]);\n\n      // Enable anti-aliasing during the transition.\n      svg.style(\"shape-rendering\", null);\n\n      // Draw child nodes on top of parent nodes.\n      svg.selectAll(\".depth\").sort(function(a, b) { return a.depth - b.depth; });\n\n      // Fade-in entering text.\n      g2.selectAll(\"text\").style(\"fill-opacity\", 0);\n\n      // Transition to the new view.\n      t1.selectAll(\".ptext\").call(text).style(\"fill-opacity\", 0);\n      t1.selectAll(\".ctext\").call(text2).style(\"fill-opacity\", 0);\n      t2.selectAll(\".ptext\").call(text).style(\"fill-opacity\", 1);\n      t2.selectAll(\".ctext\").call(text2).style(\"fill-opacity\", 1);\n      t1.selectAll(\"rect\").call(rect);\n      t2.selectAll(\"rect\").call(rect);\n\n      // Remove the old node when the transition is finished.\n      t1.remove().each(\"end\", function() {\n        svg.style(\"shape-rendering\", \"crispEdges\");\n        transitioning = false;\n      });\n    }\n\n    return g;\n  }\n\n  function text(text) {\n    text.selectAll(\"tspan\")\n        .attr(\"x\", function(d) { return x(d.x) + 6; })\n    text.attr(\"x\", function(d) { return x(d.x) + 6; })\n        .attr(\"y\", function(d) { return y(d.y) + 6; })\n        .style(\"opacity\", function(d) { return this.getComputedTextLength() < x(d.x + d.dx) - x(d.x) ? 1 : 0; });\n  }\n\n  function text2(text) {\n    text.attr(\"x\", function(d) { return x(d.x + d.dx) - this.getComputedTextLength() - 6; })\n        .attr(\"y\", function(d) { return y(d.y + d.dy) - 6; })\n        .style(\"opacity\", function(d) { return this.getComputedTextLength() < x(d.x + d.dx) - x(d.x) ? 1 : 0; });\n  }\n\n  function rect(rect) {\n    rect.attr(\"x\", function(d) { return x(d.x); })\n        .attr(\"y\", function(d) { return y(d.y); })\n        .attr(\"width\", function(d) { return x(d.x + d.dx) - x(d.x); })\n        .attr(\"height\", function(d) { return y(d.y + d.dy) - y(d.y); });\n  }\n\n  function name(d) {\n    return d.parent\n        ? name(d.parent) + \" / \" + d.key + \" (\" + formatNumber(d.value) + \")\"\n        : d.key + \" (\" + formatNumber(d.value) + \")\";\n  }\n}\nvar treeRows = function(rows) {\n    return rows.map(r => {\n        let o = {\"key\": r.name};\n        if (r.children.length > 0) {\n            o[\"values\"] = treeRows(r.children);\n        } else {\n            o[\"value\"] = r.getValue(0);\n            o[\"correlation\"] = r.getValue(1);\n        }\n        return o;\n    });\n}\nthis.render = function(args) {\n    $(\"#chart\").empty();\n    let width = window.innerWidth;\n    let height = window.innerHeight;\n    let data;\n    if (args[0]) {\n        data = treeRows(args[0].rows);\n        data = data[0];\n    } else {\n        data = {key:\"Total\", values: [{key:\"a\",value:1.235}, {key:\"b\",value:1.235}]};\n    }\n    main({width:width, height:height}, data)\n}\n",
				"cssText": "#chart {\n  background: #fff;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n}\n\n.title {\n    font-weight: bold;\n    font-size: 24px;\n    text-align: center;\n    margin-top: 6px;\n    margin-bottom: 6px;\n}\ntext {\n  pointer-events: none;\n}\n\n.grandparent text {\n  font-weight: bold;\n}\n\nrect {\n  fill: none;\n  stroke: #fff;\n}\n\nrect.parent,\n.grandparent rect {\n  stroke-width: 2px;\n}\n\nrect.parent {\n    pointer-events: none;\n}\n\n.grandparent rect {\n  fill: orange;\n}\n\n.grandparent:hover rect {\n  fill: #ee9700;\n}\n\n.children rect.parent,\n.grandparent rect {\n  cursor: pointer;\n}\n\n.children rect.parent {\n  fill: #bbb;\n  fill-opacity: .5;\n}\n\n.children:hover rect.child {\n  fill: #bbb;\n}\n\nbody {\n margin: 0px   \n}"
			},
			"functionType": "UserDefinedEvalPart",
			"arguments": [
				{
					"name": "Input Table",
					"typeAnnotation": "Table",
					"defaultValue": null,
					"metadata": null
				}
			]
		}
	}
}
